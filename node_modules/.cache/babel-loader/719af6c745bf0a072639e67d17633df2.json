{"ast":null,"code":"import _classCallCheck from\"/Users/riade/bsport_api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/riade/bsport_api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/riade/bsport_api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/riade/bsport_api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./App.css';import'moment/locale/fr';// without this line it didn't work\nvar moment=require('moment');moment.locale('fr');// fr\nvar startOfWeek=moment().startOf('isoweek').format(\"YYYY-MM-DD\");var endOfWeek=moment().endOf('isoweek').format(\"YYYY-MM-DD\");var List=/*#__PURE__*/function(_React$Component){_inherits(List,_React$Component);var _super=_createSuper(List);function List(){_classCallCheck(this,List);return _super.apply(this,arguments);}_createClass(List,[{key:\"render\",//display list of events from props.data\nvalue:function render(){return/*#__PURE__*/React.createElement(\"ul\",{className:\"list-group\"},this.props.data.map(function(entry){return/*#__PURE__*/React.createElement(\"li\",{key:entry.id,className:\"list-group-item\"},/*#__PURE__*/React.createElement(\"h6\",null,\"Date : \",moment.parseZone(entry.date_start).format(\"dddd à  kk:mm\").toString()),/*#__PURE__*/React.createElement(\"small\",null,\"Dur\\xE9e en minute : \",entry.duration_minute),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"small\",null,\"Coach : \",entry.coach),/*#__PURE__*/React.createElement(\"small\",null,\" | Activit\\xE9 : \",entry.activity),/*#__PURE__*/React.createElement(\"small\",null,\" | \\xC9tablissement : \",entry.establishment));}));}}]);return List;}(React.Component);var Filter=/*#__PURE__*/function(_React$Component2){_inherits(Filter,_React$Component2);var _super2=_createSuper(Filter);function Filter(){_classCallCheck(this,Filter);return _super2.apply(this,arguments);}_createClass(Filter,[{key:\"render\",//Filter button for a certain day\nvalue:function render(){var _this=this;if(this.props.day===-1){return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-danger\",onClick:function onClick(){return _this.props.onClick();}},this.props.value);}else{return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:function onClick(){return _this.props.onClick();}},this.props.value);}}}]);return Filter;}(React.Component);var Calendar=/*#__PURE__*/function(_React$Component3){_inherits(Calendar,_React$Component3);var _super3=_createSuper(Calendar);function Calendar(props){var _this2;_classCallCheck(this,Calendar);_this2=_super3.call(this,props);_this2.state={data:[],isdataSet:false,filter:-1};return _this2;}_createClass(Calendar,[{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;fetch(\"https://back.staging.bsport.io/api/v1/offer/?company=6&min_date=\"+startOfWeek+\"&max_date=\"+endOfWeek).then(function(res){return res.json();}).then(function(result){var res=[];result[\"results\"].forEach(function(item){return res.push(item);});_this3.setState({\"data\":res,\"isdataSet\":true});});}},{key:\"filter\",value:function filter(i){this.setState({filter:i});}},{key:\"render\",value:function render(){var _this4=this;if(this.state.isdataSet){var res=[];if(this.state.filter>=0){this.state.data.forEach(function(item){if(moment(item.date_start).weekday()===_this4.state.filter)res.push(item);});}else res=this.state.data;return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-md-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-7\"},/*#__PURE__*/React.createElement(\"h2\",null,\"S\\xE9l\\xE9ctionnez un jour pour voir les s\\xE9ances correspondantes\"),/*#__PURE__*/React.createElement(\"h6\",null,\"Le calendrier montre les s\\xE9ances de la semaine actuelle\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Filter,{onClick:function onClick(){return _this4.filter(0);},value:\"Lundi\"}),/*#__PURE__*/React.createElement(Filter,{onClick:function onClick(){return _this4.filter(1);},value:\"Mardi\"}),/*#__PURE__*/React.createElement(Filter,{onClick:function onClick(){return _this4.filter(2);},value:\"Mercredi\"}),/*#__PURE__*/React.createElement(Filter,{onClick:function onClick(){return _this4.filter(3);},value:\"Jeudi\"}),/*#__PURE__*/React.createElement(Filter,{onClick:function onClick(){return _this4.filter(4);},value:\"Venredi\"}),/*#__PURE__*/React.createElement(Filter,{onClick:function onClick(){return _this4.filter(5);},value:\"Samedi\",k:true}),/*#__PURE__*/React.createElement(Filter,{onClick:function onClick(){return _this4.filter(6);},value:\"Dimanche\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Filter,{onClick:function onClick(){return _this4.filter(-1);},value:\"Désactiver le filtre\",day:-1}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(List,{data:res}))));}else return\"Loading...\";}}]);return Calendar;}(React.Component);export default Calendar;","map":{"version":3,"sources":["/Users/riade/bsport_api/src/App.js"],"names":["React","moment","require","locale","startOfWeek","startOf","format","endOfWeek","endOf","List","props","data","map","entry","id","parseZone","date_start","toString","duration_minute","coach","activity","establishment","Component","Filter","day","onClick","value","Calendar","state","isdataSet","filter","fetch","then","res","json","result","forEach","item","push","setState","i","weekday"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport 'moment/locale/fr'  // without this line it didn't work\n\nvar moment = require('moment');\nmoment.locale('fr');         // fr\n\nvar startOfWeek = moment().startOf('isoweek').format(\"YYYY-MM-DD\");\nvar endOfWeek   = moment().endOf('isoweek').format(\"YYYY-MM-DD\");\n\n\nclass List extends React.Component{ //display list of events from props.data\n    render() {\n        return (\n            <ul className=\"list-group\">\n                {this.props.data.map(entry => <li key={entry.id} className=\"list-group-item\">\n                    <h6>Date : {moment.parseZone(entry.date_start).format(\"dddd à  kk:mm\").toString()}</h6>\n                    <small>Durée en minute : {entry.duration_minute}</small>\n                    <br></br>\n                    <small>Coach : {entry.coach}</small><small> | Activité : {entry.activity}</small><small> |\n                    Établissement : {entry.establishment}</small>\n\n                </li>)}\n            </ul>\n        );\n    }\n}\nclass Filter extends React.Component{ //Filter button for a certain day\n\n    render() {\n\n        if(this.props.day === -1){\n            return <button type=\"button\" className=\"btn btn-outline-danger\"  onClick={() => this.props.onClick()}>{this.props.value}</button>;\n        }\n        else   {\n            return <button type=\"button\" className=\"btn btn-outline-primary\"  onClick={() => this.props.onClick()}>{this.props.value}</button>;\n\n        }\n\n    }\n}\n\nclass Calendar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        data:[],\n        isdataSet : false,\n        filter : -1,\n    }\n  }\n  componentDidMount() {\n      fetch(\"https://back.staging.bsport.io/api/v1/offer/?company=6&min_date=\"+startOfWeek + \"&max_date=\"+endOfWeek)\n          .then(res => res.json())\n          .then(\n              (result) => {\n                  var res = [];\n                  result[\"results\"].forEach((item) => res.push(item));\n                  this.setState({\"data\": res, \"isdataSet\":true});\n              });\n  }\n\n    filter(i){\n      this.setState({filter: i});\n  }\n   render() {\n       if(this.state.isdataSet){\n           var res = [];\n           if(this.state.filter >= 0){\n               this.state.data.forEach((item) => {\n                   if(moment(item.date_start).weekday() === this.state.filter) res.push(item);\n               });\n           }\n           else res = this.state.data;\n           return (\n               <div className=\"container\">\n                   <div className=\"row justify-content-md-center\">\n                       <div className=\"col-7\">\n                           <h2>Séléctionnez un jour pour voir les séances correspondantes</h2>\n                           <h6>Le calendrier montre les séances de la semaine actuelle</h6>\n                           <br></br>\n                           <div className=\"text-center\">\n                           <Filter onClick={() => this.filter(0)} value={\"Lundi\"} ></Filter>\n                           <Filter onClick={() => this.filter(1)} value={\"Mardi\"} ></Filter>\n                           <Filter onClick={() => this.filter(2)} value={\"Mercredi\"} ></Filter>\n                           <Filter onClick={() =>this.filter(3)} value={\"Jeudi\"} ></Filter>\n                           <Filter onClick={() => this.filter(4)} value={\"Venredi\"} ></Filter>\n                           <Filter onClick={() => this.filter(5)} value={\"Samedi\"} k></Filter>\n                               <Filter onClick={() => this.filter(6)} value={\"Dimanche\"} ></Filter><br></br>\n                           <Filter onClick={() => this.filter(-1)} value={\"Désactiver le filtre\"} day={-1} ></Filter>\n                           </div>\n                       </div>\n                       <div className=\"col-4\">\n                           <List data={res}/>\n                       </div>\n\n                   </div>\n               </div>\n           );\n      }\n       else return \"Loading...\";\n\n  }\n\n}\n\n\nexport default Calendar;\n"]},"metadata":{},"sourceType":"module"}